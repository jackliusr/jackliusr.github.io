<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>envoy on My learning and diary</title>
    <link>https://jackliusr.github.io/tags/envoy/</link>
    <description>Recent content in envoy on My learning and diary</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 29 May 2022 17:10:10 +0800</lastBuildDate><atom:link href="https://jackliusr.github.io/tags/envoy/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Istio Envoy passthrough goes wrong when port 80 are used for SMTP protocol instead of standard ports</title>
      <link>https://jackliusr.github.io/posts/2022/05/istio-envoy-passthrough-goes-wrong-when-port-80-are-used-for-smtp-protocol-instead-of-standard-ports/</link>
      <pubDate>Sun, 29 May 2022 17:10:10 +0800</pubDate>
      
      <guid>https://jackliusr.github.io/posts/2022/05/istio-envoy-passthrough-goes-wrong-when-port-80-are-used-for-smtp-protocol-instead-of-standard-ports/</guid>
      <description>I wrote this on September 7, 2021 and published it on linkedin. However I found that it can be hard to search if I put there. so I put here anoter copy
 TLDR: if your external SMTP is using port 80 instead of standard ports in an istio mesh, create a Service Entry for the external SMTP.
 These two days, a strange timeout issue happened in one of our kubernetes clusters when trying to send emails via SMTP even though the same configuration works perfectly on our development machines.</description>
    </item>
    
    <item>
      <title>Istio Envoy passthrough goes wrong when port 80 are used for SMTP protocol instead of standard ports</title>
      <link>https://jackliusr.github.io/posts/2021/09/istio-envoy-passthrough-goes-wrong-when-port-80-are-used-for-smtp-protocol-instead-of-standard-ports/</link>
      <pubDate>Tue, 07 Sep 2021 09:10:10 +0800</pubDate>
      
      <guid>https://jackliusr.github.io/posts/2021/09/istio-envoy-passthrough-goes-wrong-when-port-80-are-used-for-smtp-protocol-instead-of-standard-ports/</guid>
      <description>TLDR: if your external SMTP is using port 80 instead of standard ports in an istio mesh, create a Service Entry for the external SMTP.
 These two days, a strange timeout issue happened in one of our kubernetes clusters when trying to send emails via SMTP even though the same configuration works perfectly on our development machines.
 At first, I thought it was due to SecureSocketOptions.startTLS. I changed it to SecureSocketOptions.</description>
    </item>
    
    <item>
      <title>Apply proxy protocol listener filters to specific ports in istio</title>
      <link>https://jackliusr.github.io/posts/2021/08/apply-proxy-protocol-listener-filters-to-specific-ports-in-istio/</link>
      <pubDate>Sat, 28 Aug 2021 09:10:10 +0800</pubDate>
      
      <guid>https://jackliusr.github.io/posts/2021/08/apply-proxy-protocol-listener-filters-to-specific-ports-in-istio/</guid>
      <description>Two days ago, our web applications need to get clients&amp;#39; real IP address. Our sites is hosted in kubernetes, isito is used for ingress controll. behind cloud load balancers, it is not easy to make it work.
 There are two ways to do that in alibaba classic load balancer: http/https listeners, and TCP listeners with proxy protocol
 HTTPS listeners is crossed out due to certificate issue. HTTPS listeners can use integrated certificates or self uploaded certificates.</description>
    </item>
    
  </channel>
</rss>
